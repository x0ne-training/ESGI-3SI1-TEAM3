Calculatrice Scientifique Avancée

Description du Projet

Calculatrice scientifique en C offrant deux modes d'utilisation :
- **Mode Interactif** : Interface menu pour une utilisation conviviale
- **Mode Ligne de Commande** : Calculs directs via arguments pour l'automatisation

Fonctionnalités Ajoutées

Affichage Stylisé
- Résultats formatés avec bordures et couleurs ANSI
- Mise en forme claire : `Résultat de l'expression "3 + 2" : 5.00`
- Messages d'erreur visuellement distincts
- Titres et séparateurs pour améliorer la lisibilité

Gestion de la Précision
- Choix de la précision d'affichage (0 à 10 décimales)
- Précision par défaut : 2 décimales
- Configuration globale en mode interactif
- Spécification par calcul en ligne de commande

Mode Ligne de Commande
- Exécution directe sans interaction : `./calculatrice add 5 3`
- Support de toutes les opérations mathématiques
- Précision optionnelle : `./calculatrice div 10 3 4`
- Idéal pour scripts et automatisation

Structure du Projet


projet_calculatrice/
│
├── fonction.h          # Déclarations des fonctions mathématiques (partenaires)
├── fonction.c          # Implémentations mathématiques (partenaires)
├── affichage.h         # Déclarations des fonctions d'affichage (VOTRE PARTIE)
├── affichage.c         # Implémentations de l'affichage stylisé (VOTRE PARTIE)
├── main.c              # Programme principal amélioré (VOTRE PARTIE)
└── README.md           # Ce fichier


Compilation

Commande de compilation

gcc main.c fonction.c affichage.c -o calculatrice -lm -std=c99


Options importantes :
- -lm : Lie la bibliothèque mathématique
- -std=c99 : Utilise le standard C99
- -o calculatrice : Nom de l'exécutable

Sur Windows (MinGW)

gcc main.c fonction.c affichage.c -o calculatrice.exe -lm


Utilisation

Mode Interactif (Original)

Lancez sans arguments :

./calculatrice

Déroulement :
1. Choisir la précision d'affichage (0-10 décimales)
2. Sélectionner une opération dans le menu
3. Entrer les nombres requis
4. Voir le résultat stylisé
5. Choisir de continuer (r) ou quitter (q)

Mode Ligne de Commande (Nouveau)

Syntaxe générale

./calculatrice <operation> <nombre1> [nombre2] [precision]


Opérations Binaires (2 nombres requis)

Addition

./calculatrice add 15 27
# Résultat : 42.00


Soustraction

./calculatrice sub 50 12
Résultat : 38.00


Multiplication

./calculatrice mul 6 7
Résultat : 42.00


Division

./calculatrice div 10 3
Résultat : 3.33

Avec précision personnalisée (6 décimales)
./calculatrice div 10 3 6
Résultat : 3.333333


Puissance

./calculatrice pow 2 10
Résultat : 1024.00


Modulo

./calculatrice mod 17 5
Résultat : 2.00


Opérations Unaires (1 nombre requis)

Carré
bash
./calculatrice square 5
Résultat : 25.00


Racine carrée

./calculatrice sqrt 144
Résultat : 12.00


Factorielle

./calculatrice fact 5
Résultat : 120.00


Logarithme naturel

./calculatrice ln 2.718
Résultat : 0.99


Exponentielle

./calculatrice exp 1
Résultat : 2.72


Fonctions trigonométriques (angles en radians)

Sinus de π/2 (≈ 1.5708)
./calculatrice sin 1.5708
Résultat : 1.00

Cosinus de π (≈ 3.14159)
./calculatrice cos 3.14159
Résultat : -1.00

Tangente de π/4 (≈ 0.7854)
./calculatrice tan 0.7854
Résultat : 1.00


Exemples avec Précision


Division avec 8 décimales
./calculatrice div 22 7 8
Résultat : 3.14285714

Sinus avec 6 décimales
./calculatrice sin 1.5708 6
Résultat : 1.000000

Racine carrée avec 4 décimales
./calculatrice sqrt 2 4
Résultat : 1.4142


Aide en Ligne


./calculatrice help
 ou
./calculatrice --help
 ou
./calculatrice -h


Liste Complète des Opérations

| Opération | Code CLI | Alias | Arguments | Exemple |
|-----------|----------|-------|-----------|---------|
| Addition  | add | addition| 2 nombres | add 5 3 |
| Soustraction | sub | soustraction | 2 nombres | sub 10 4 |
| Multiplication | mul | multiplication | 2 nombres | mul 6 7 |
| Division | div | division | 2 nombres | div 20 4|
| Puissance | pow | puissance | 2 nombres | pow 2 8 |
| Modulo | mod | modulo | 2 entiers | mod 17 5 |
| Carré | square | carre | 1 nombre | square 5 |
| Racine carrée | Sqrt | racine | 1 nombre | sqrt 16
| Factorielle | fact | factorielle| 1 entier | fact 5 |
| Logarithme | ln | log| 1 nombre | ln 2.718 |
| Exponentielle | exp | exponentielle | 1 nombre | exp 1 |
| Sinus | sin | sinus | 1 radian | sin 1.57 |
| Cosinus | cos | cosinus| 1 radian | cos 3.14 |
| Tangente | tan | tangente | 1 radian | tan 0.785 |

Exemples d'Utilisation Pratiques

 Scripts Bash

bash
!/bin/bash
 Script de calculs automatisés

echo "=== Calculs automatiques ==="

 Calculer l'aire d'un cercle (π × r²)
rayon=5
aire=$(./calculatrice mul 3.14159 $(./calculatrice square $rayon))
echo "Aire du cercle de rayon $rayon : $aire"

 Calculer l'hypoténuse (théorème de Pythagore)
a=3
b=4
 c = √(a² + b²)
a_carre=$(./calculatrice square $a)
b_carre=$(./calculatrice square $b)
somme=$(./calculatrice add $a_carre $b_carre)
hypotenuse=$(./calculatrice sqrt $somme)
echo "Hypoténuse : $hypotenuse"


Boucles et Automatisation


 Tableau des puissances de 2
for i in {0..10}; do
    resultat=$(./calculatrice pow 2 $i)
    echo "2^$i = $resultat"
done


Aperçu de l'Affichage Stylisé

============================================================
                 CALCULATRICE SCIENTIFIQUE
============================================================

------------------------------------------------------------
  Expression calculée : "10 ÷ 3"
  Résultat            : 3.3333
------------------------------------------------------------


Détails Techniques

Précision d'Affichage
- Plage valide : 0 à 10 décimales
- Valeur par défaut : 2 décimales
- Format interne : Calculs en `double` (précision machine)

Couleurs ANSI
Le programme utilise des codes ANSI pour la colorisation :
- Bleu : Titres
- Vert : Succès et labels
- Jaune : Avertissements
- Rouge : Erreurs
- Cyan : Résultats

Note : Compatible avec la plupart des terminaux modernes (Linux, macOS, Windows 10+).

Gestion des Erreurs
- Division par zéro détectée et bloquée
- Racine carrée de nombres négatifs refusée
- Logarithme de nombres ≤ 0 refusé
- Validation des arguments en ligne de commande
- Messages d'erreur clairs et explicites

Code Original Préservé

Aucune modification du code des partenaires :
- fonction.c : Code mathématique intact
- fonction.h : Déclarations originales préservées
- Compatibilité totale avec l'existant

Ajouts dans des fichiers séparés :
- affichage.h / affichage.c : Nouvelles fonctions d'affichage
- main.c : Extension avec gestion de la ligne de commande

Dépannage

Problème : Couleurs ne s'affichent pas
Solution : Votre terminal ne supporte pas les codes ANSI. Le programme fonctionnera quand même, mais sans couleurs.

Problème : Erreur de compilation -lm
Solution : Assurez-vous d'inclure -lm` à la fin de la commande gcc.

Problème : undefined reference to 'sqrt'
Solution: Ajoutez #include <math.h> et compilez avec -lm.
